网络安全Day01

一、虚拟机运行架构：

1.寄居架构（实验环境、测试环境）

a）虚拟机作为应用软件安装在操作系统上

b）可以在此应用软件上安装多个操作系统

c）直接安装在硬件上的系统为宿主

![img](https://i0.hdslb.com/bfs/note/71505fbd4c7e7b8482c7ee786875ce011b3afb55.png)

攻击环境在虚拟机操作

“靶机”“枪”。虚拟机会占用真实机内存cpu等。



2.原生架构

 一般在企业生产环境（实际生产）中使用，较昂贵

a）虚拟机软件直接安装在计算机硬件上

b）虚拟机本身就是一种操作系统

c）在这个虚拟机中可以同时运行多个操作系统

![img](https://i0.hdslb.com/bfs/note/4aafe1798dcd1b83c9fc1dc90d4538a749126086.png)



二、虚拟机产品

1.—vmware

——vmware workstation（寄居架构）

——vmware vsphere（寄居架构）

—微软

——Hyper-v（寄居架构）

2.vmware workstations v12的安装

官网下载/自行寻找

3.关闭更新服务

win+r——输入services.msc（服务管理窗口）

停止windows update服务，并禁用

同时在恢复中，改为无操作

4.win+r——输入gpedit.msc（组策略编辑器）

windos更新——配置自动更新——双击打开禁用



三、部署虚拟机

1.部署winxp虚拟机

a)在vmware主页

创建新的虚拟机——xp系统选典型，linux选自定义——稍后安装操作系统——windos系统——xp professional——选择位置——将虚拟磁盘存储为单个文件——完成

vmware esx是原生架构用的



b)在虚拟机界面

设置中删除打印机和声卡——选择cd/dvd——使用iso映像文件——自己去csdn下载

ctrl+alt 真实与虚拟机切换鼠标

c)在winxp安装过程中

enter——c——大小10240——选第一个，enter——选第一个，enter——等待安装

低级格式化帮略过磁盘坏处，但很慢。高级格式化快。

服务器支持4个g以上

注：在虚拟机中用

![img](https://i0.hdslb.com/bfs/note/96fec55b65e0a55ae6a65147a4c8f3b2cd130661.png)

代替ctrl alt delete



2.优化虚拟机

a）安装vmware tools（安装驱动）

当前虚拟机界面上方——点击虚拟机菜单——安装vmwaretools——一路点下一步——重启（与真实机互动）

b）调出桌面图标

对准桌面右键——属性——点击桌面菜单——下方自定义桌面——将几个桌面图标打上对勾

c）磁盘管理

- 新建磁盘分区：桌面“我的电脑”右键——点击管理——点击下方磁盘管理——右边未指派区域右键——新建磁盘分区——下一步——主分区——下一步*3——勾上底下“执行快速格式化”
- 更改驱动器名：同上打开磁盘管理——右键磁盘区域——选择更改驱动器号——更改
- 隐藏磁盘：提前新建文件夹。同新建磁盘分区的步骤，在主分区的下一步不选择指派驱动号，而是装入以下NTFS文件夹中。
- 更改大c盘：同新建磁盘分区的步骤，先压缩后新建

d）关闭系统自动更新、关闭防火墙（2003默认已关闭）

xp在控制面板的安全中心，点击自动更新后设置。

e）做快照

- 拍摄快照：关机——在vmware上方菜单选第三个时钟（快照管理）——右下角拍摄快照
- 回到快照状态：在vmware上方菜单选第二个时钟——是



3.克隆虚拟机

- 关机——快照管理——右下角克隆——下一步——克隆自现有快照——下一步

注：这里创建连接克隆占内存小，但需要根据第一台使用。完整克隆内存大，独立。

- 克隆机需要更改计算机名：右键我的电脑——属性——计算机名——更改



4.安装盘制作

msdn.itellyou.cn中有操作系统镜像

使用ultraiso，先格式化u盘后